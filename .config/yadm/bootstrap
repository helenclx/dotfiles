#!/usr/bin/env bash

echo "Change Bash configuration to the one in my yadm repo..."
yadm restore .bashrc

distro_id=$(lsb_release -i | cut -f 2-)
essential_packages=('zsh' 'zoxide' 'neovim')
install_msg="Install essential packages..."

if [[ $distro_id == "Arch" ]]; then
    echo $install_msg
    sudo pacman -S "${essential_packages[@]}"
elif [[ $distro_id == "Fedora" ]]; then
    echo $install_msg
    sudo dnf install "${essential_packages[@]}"
elif [[ $distro_id == "Debian" ]]; then
    echo $install_msg
    sudo apt install zsh neovim
    curl -sSfL https://raw.githubusercontent.com/ajeetdsouza/zoxide/main/install.sh | sh
fi

echo "yadm bootstrap program executed."
echo "reboot your system to apply the locale changes."
